<div class="row">
  <!-- The Section for the Display Portion -->
  <div class="col-md-4 offset-md-2">
    <mat-card>
      <mat-card-header>
        <mat-card-title *ngIf="name.value; else nameDisplay">{{
          name.value
        }}</mat-card-title>
        <ng-template #nameDisplay>
          <mat-card-title>Product Name</mat-card-title>
        </ng-template>

        <mat-card-subtitle *ngIf="category.value; else catDisplay">{{
          category.value
        }}</mat-card-subtitle>
        <ng-template #catDisplay>
          <mat-card-subtitle>Category</mat-card-subtitle>
        </ng-template>
      </mat-card-header>

      <div class="text-center" style="overflow: hidden;">
        <img
          *ngIf="url.value; else imgDipslay"
          mat-card-image
          src="{{ url.value }}"
        />
        <ng-template #imgDipslay>
          <mat-icon>wallpaper</mat-icon>
        </ng-template>
      </div>

      <mat-card-content>
        <ng-container *ngIf="price.value; else priceDisplay">
          {{ price.value | currency: "USD" }}
        </ng-container>
        <ng-template #priceDisplay>
          $X.XX
        </ng-template>
      </mat-card-content>
    </mat-card>
  </div>

  <div class="col-md-4">
    <div class="content-box p-4 mat-elevation-z2">
      <form [formGroup]="productForm" #prodForm (ngSubmit)="SubmitForm()">
        <div>
          <mat-form-field class="mb-1">
            <mat-label>Product Name</mat-label>
            <input
              matInput
              [required]="true"
              placeholder="Peanuts"
              formControlName="productName"
            />
            <mat-error *ngIf="name.touched && name.hasError('required')"
              >Product Name is required.</mat-error
            >
          </mat-form-field>
        </div>
        <div>
          <mat-form-field class="mb-1">
            <mat-label for="productCategory">Category</mat-label>
            <mat-select formControlName="productCategory">
              <mat-option value=""></mat-option>
              <mat-option *ngFor="let cat of nutCat" [value]="cat">
                {{ cat }}
              </mat-option>
            </mat-select>
            <mat-error
              *ngIf="category.touched && category.hasError('required')"
            >
              Category is required.
            </mat-error>
          </mat-form-field>
        </div>
        <div>
          <mat-form-field class="mb-1">
            <mat-label for="productPrice">Price</mat-label>
            <input
              matInput
              type="number"
              formControlName="productPrice"
              min="0"
            />
            <span matPrefix>$&nbsp;</span>
            <mat-error *ngIf="price.touched && price.hasError('required')">
              Price is required.
            </mat-error>
            <mat-error *ngIf="price.touched && price.hasError('invalidPrice')">
              Price is invalid.
            </mat-error>
          </mat-form-field>
        </div>
        <div>
          <mat-form-field class="mb-1">
            <mat-label for="productUrl">Image Url</mat-label>
            <input matInput type="text" formControlName="productUrl" />
            <mat-error *ngIf="url.touched && url.hasError('required')">
              Image URL is required.
            </mat-error>
          </mat-form-field>
        </div>
        <div class="text-center">
          <button type="submit" mat-raised-button color="accent">
            Submit
          </button>
          <button type="reset" mat-button color="warn">
            Reset
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
